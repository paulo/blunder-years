Grupos de 3.
Entrega: 4 de Dezembro de 2015.
Relatório até 6 páginas.
Necessário entregar source code.
Actors e message-orientation, através de Quasar e ZeroMQ.

---

Chat server com:
    - Registo/remoção e login/logout de utilizadores (name e password).
    - Escolha/mudança de sala (partindo de salas existentes). 
    - Envio de mensagens privadas para outros utilizadores conectados.
    - Protocolo de texto simples para ser possivel usar telnet.
    - API para gestão e descrição (criação/remoção/listagem de salas, listagem de utilizadores, etc)
    - API de notificações que permite subscrever a eventos relevantes (criação/remoção de sala, login/logout de utilizador na sala, etc)

    .deve ser escalável no número de utilizadores conectados.
    .deve permitir subscrição de eventos notáveis.

Clientes (3 clientes)
    - cliente chat para utilizadores (permite listagem de salas, escolha de salas e listagem de utilizadores)
    - cliente admin para gerir (criar/remover/listar) salas
    - consola de notificação (permite observar o sistema subscrevendo a eventos relevantes)








Notas:
    - Channels
        - Selectors para esperar dois canais ao mesmo tempo
        - Map, Reduce para aplicar operações ás mensagens recibidas
        - BufferSize para definir o máximo de mensagens que podem estar no buffer
    - Clustering (meter roomManagers em diferentes computadores)?
    - Register actors (torná-los acessiveis em toda a rede, talvez dê jeito)
    - Dataflow reactive programming (recalcular variáveis quando ocorre um evento)
    - Supervisors
        - Talvez fazer meter o user a fazer watch do seu line reader e vice-versa
    - Behaviors
        - RequestReplyHelper
        - BehaviorActor
        - Server
        - Proxy Server (capaz de se tornar útil no servidor)
        - Event Source 
        - FiniteStateMachineActor (talvez usar isto para depois fazer refactoring do código)

Ver exemplos de testes de código



    -> Usar isto para depois criar vários servidores ao mesmo tempo.

gradle run -Pmyargs="12344 123456 asdfa 123455"

ter em conta a mailbox e mailbox policy


A fazer:

    removeChild(ActorRef<?> actor, boolean terminate)
    public void close();


   - O user ao criar a notification console e os rooms ao serem apagados têm de ir abaixo (ver no supervisor também)
    - falta passar user para receber nonRetrivableMessage (importante)
    - fazer ambiente de teste
    - implementar remoção de users?
.



##CreateRoom

case "!createroom":
return new Message.RetrievableMessage(Message.MessageType.USER_CREATE_PUBLIC_ROOM, inst);
case "!createprivateroom":
return new Message.RetrievableMessage(Message.MessageType.USER_CREATE_PRIVATE_ROOM, inst);
case "!removeroom":
return new Message.RetrievableMessage(Message.MessageType.ADMIN_REMOVE_ROOM, inst);

##ListRooms

case "!listrooms":
return new Message.RetrievableMessage(Message.MessageType.USER_LIST_ROOM, null);
case "!listrooms":
return new Message.RetrievableMessage(Message.MessageType.USER_LIST_ROOM, null);
case "!listusers":
return new Message.RetrievableMessage(Message.MessageType.USER_LIST_USERS, null);
case "!listroomusers":
return new Message.RetrievableMessage(Message.MessageType.USER_LIST_ROOM_USERS, null);
case "!listmyrooms":
return new Message.RetrievableMessage(Message.MessageType.USER_LIST_MY_ROOMS, null);

##LogIn

case "!login":
return new Message.RetrievableMessage(Message.MessageType.USER_LOGIN, new Message.UserDataMessage(inst[1], inst[2]));
case "!register":
return new Message.RetrievableMessage(Message.MessageType.USER_REGISTER, new Message.UserDataMessage(inst[1], inst[2]));

##PrivateMessage

case "!sendpm":
return new Message.RetrievableMessage(Message.MessageType.USER_PRIVATE_MESSAGE, inst);
case "!logout":
return new Message.RetrievableMessage(Message.MessageType.USER_LOGOUT, null);


##EnterRoom

case "!enterroom":
return new Message.RetrievableMessage(Message.MessageType.USER_ENTER_ROOM, inst);
case "!leaveroom":
return new Message.RetrievableMessage(Message.MessageType.USER_LEAVE_ROOM, inst);
case "!changeroom":
return new Message.RetrievableMessage(Message.MessageType.USER_CHANGE_ROOM,inst[1]);

##Subscribe a eventos






